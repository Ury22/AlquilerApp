@model AlquilerApp.Models.Alquiler

@{
ViewData["Title"] = "Eliminar Contrato";
}

<!-- Carga de Bootstrap y Font Awesome (NOTA: En un proyecto ASP.NET Core real, estos enlaces deberían estar en el _Layout.cshtml) -->

<link href="https://www.google.com/search?q=https://cdn.jsdelivr.net/npm/bootstrap%405.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="stylesheet" href="https://www.google.com/search?q=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLMD/CD/JzIzxQx9hI7mIqg5f+8/GvYwVqj7tHjT9x5fD+u6W2Zl1sA/r3t9JqU2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- Estilos personalizados para la vista de eliminación (énfasis en el rojo de advertencia) -->

<style>
body {
background-color: #f7f9fc;
font-family: 'Inter', sans-serif;
}
.delete-card {
border-top: 8px solid #ef4444; /* red-500 /
border-radius: 1rem !important; / rounded-xl /
box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15); / shadow-2xl /
}
.warning-panel {
background-color: #fef2f2; / red-50 /
border: 1px solid #fecaca; / red-200 /
border-radius: 1rem;
box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06); / shadow-inner */
}
.btn-delete-custom {
font-weight: 700;
padding: 0.75rem 2rem;
border-radius: 0.75rem;
box-shadow: 0 4px 10px rgba(239, 68, 68, 0.3);
transition: all 0.3s;
}
.btn-delete-custom:hover {
transform: scale(1.05);
box-shadow: 0 6px 15px rgba(239, 68, 68, 0.4);
}
</style>

<!-- Contenedor Principal con Sombra de Advertencia y Esquinas Redondeadas -->

<div class="container py-5 d-flex justify-content-center">
<div class="delete-card mx-auto p-4 p-md-5 bg-white shadow-lg" style="max-width: 900px;">

    <!-- Cabecera de Advertencia -->
    <header class="mb-5 pb-4 border-bottom border-danger-subtle">
        <h1 class="display-5 fw-bolder text-danger d-flex align-items-center">
            <i class="fas fa-exclamation-triangle me-3 text-danger"></i> @ViewData["Title"]
        </h1>
        <h3 class="h5 text-dark-emphasis mt-3">
            <span class="fw-bold">ATENCIÓN:</span> ¿Estás seguro que deseas eliminar permanentemente el contrato <span class="fw-bolder text-danger">#@Html.DisplayFor(model => model.CodAlquiler)</span>?
        </h3>
        <p class="h6 text-danger fw-semibold mt-1">Esta acción es irreversible y eliminará todos los registros asociados.</p>
    </header>

    <!-- Panel de Detalles del Contrato (Enmarcado en Rojo Suave) -->
    <div class="p-4 p-md-5 warning-panel">
        
        <h2 class="h4 fw-bold text-danger mb-4 border-bottom border-danger-subtle pb-2 d-flex align-items-center">
            <i class="fas fa-info-circle me-2"></i> Detalles del Contrato a Eliminar
        </h2>
        
        <!-- Grid de 3 Columnas para Detalles -->
        <div class="row g-4">
            
            <!-- Columna 1: Fechas y Estado -->
            <div class="col-12 col-lg-4">
                <h5 class="h6 fw-semibold text-dark-emphasis mb-3 border-bottom pb-1">Período y Estado</h5>
                <dl class="row g-2 small">
                    <dt class="col-6 fw-medium text-secondary">@Html.DisplayNameFor(model => model.FechaAlquiler)</dt>
                    <dd class="col-6 fw-semibold text-dark text-end">@Html.DisplayFor(model => model.FechaAlquiler)</dd>

                    <dt class="col-6 fw-medium text-secondary">@Html.DisplayNameFor(model => model.FechaInicio)</dt>
                    <dd class="col-6 text-dark text-end">@Html.DisplayFor(model => model.FechaInicio)</dd>

                    <dt class="col-6 fw-medium text-secondary">@Html.DisplayNameFor(model => model.FechaFinalizacion)</dt>
                    <dd class="col-6 text-dark text-end">@Html.DisplayFor(model => model.FechaFinalizacion)</dd>

                    <div class="col-12 d-flex justify-content-between align-items-center pt-3 border-top border-danger-subtle">
                        <dt class="fw-medium text-secondary mb-0">@Html.DisplayNameFor(model => model.Estado)</dt>
                        <dd class="mb-0">
                            <span class="badge rounded-pill bg-danger text-white shadow-sm">
                                @Html.DisplayFor(model => model.Estado!.EstadoNombre)
                            </span>
                        </dd>
                    </div>
                </dl>
            </div>

            <!-- Columna 2: Montos Financieros -->
            <div class="col-12 col-lg-4">
                <h5 class="h6 fw-semibold text-dark-emphasis mb-3 border-bottom pb-1">Montos Acordados</h5>
                <dl class="row g-3 small">
                    <div class="col-12 d-flex justify-content-between align-items-center">
                        <dt class="fw-medium text-secondary">@Html.DisplayNameFor(model => model.CuotaMensual)</dt>
                        <dd class="h5 fw-bolder text-danger mb-0">@Html.DisplayFor(model => model.CuotaMensual)</dd>
                    </div>
                    
                    <div class="col-12 d-flex justify-content-between align-items-center">
                        <dt class="fw-medium text-secondary">@Html.DisplayNameFor(model => model.DepositoGarantia)</dt>
                        <dd class="fw-semibold text-danger-emphasis mb-0">@Html.DisplayFor(model => model.DepositoGarantia)</dd>
                    </div>
                </dl>
            </div>

            <!-- Columna 3: Partes Involucradas -->
            <div class="col-12 col-lg-4">
                <h5 class="h6 fw-semibold text-dark-emphasis mb-3 border-bottom pb-1">Personas y Vivienda</h5>
                <dl class="row g-3 small">
                    <div class="col-12">
                        <dt class="fw-medium text-secondary">Propietario:</dt>
                        <dd class="fw-semibold text-dark mt-1">@Html.DisplayFor(model => model.PropietarioPersona!.Nombres) @Html.DisplayFor(model => model.PropietarioPersona!.Apellidos)</dd>
                    </div>
                    
                    <div class="col-12">
                        <dt class="fw-medium text-secondary">Inquilino:</dt>
                        <dd class="fw-semibold text-dark mt-1">@Html.DisplayFor(model => model.InquilinoPersona!.Nombres) @Html.DisplayFor(model => model.InquilinoPersona!.Apellidos)</dd>
                    </div>

                    <div class="col-12">
                        <dt class="fw-medium text-secondary">Vivienda:</dt>
                        <dd class="fw-semibold text-dark mt-1">@Html.DisplayFor(model => model.CodigoVivienda)</dd>
                    </div>
                </dl>
            </div>
        </div>
    </div>

    <!-- Formulario de Eliminación y Botones de Acción -->
    <form asp-action="Delete" class="pt-5 d-flex flex-column flex-sm-row justify-content-between align-items-center">
        <input type="hidden" asp-for="CodAlquiler" />
        
        <!-- Botón de Confirmación (ROJO DESTRUTIVO) -->
        <button type="submit" class="btn btn-danger btn-lg btn-delete-custom mb-3 mb-sm-0 w-100 w-sm-auto">
            <i class="fas fa-trash-alt me-2"></i> Confirmar Eliminación
        </button>
        
        <!-- Botón de Cancelar (Secundario) -->
        <a asp-action="Index" class="btn btn-outline-secondary btn-lg fw-semibold py-3 px-5 rounded-4 shadow-sm w-100 w-sm-auto d-flex align-items-center justify-content-center">
            <i class="fas fa-arrow-left me-2"></i> Cancelar y Volver
        </a>
    </form>
</div>


</div>

@section Scripts {
<!-- Script de Bootstrap (Asumiendo que no está en el layout) -->
<script src="https://www.google.com/search?q=https://cdn.jsdelivr.net/npm/bootstrap%405.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
}